<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Instagram stats Chart</title>
    <!-- <link href="nv.d3.css" rel="stylesheet" type="text/css">
    <script src="d3.v3.js"></script>
    <script src="nv.d3.js"></script>
-->
    <link media="all" href="https://dl.dropboxusercontent.com/u/10933989/nv.d3.css" type="text/css" rel="stylesheet"/>
    <script src="https://dl.dropboxusercontent.com/u/10933989/d3.min.js" type="text/javascript"></script>
    <script src="https://dl.dropboxusercontent.com/u/10933989/nv.d3.min.js" type="text/javascript"></script>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script>
        $("#date1, #date2").datepicker({
            defaultDate: "+1w",
            changeMonth: true,
            numberOfMonths: 1,
            onSelect: function (selectedDate) {
                var option = this.id == "abc" ? "minDate" : "maxDate",
                        instance = $(this).data("datepicker"),
                        date = $.datepicker.parseDate(
                                instance.settings.dateFormat || $.datepicker._defaults.dateFormat,
                                selectedDate, instance.settings);
                dates.not(this).datepicker("option", option, date);
            }
        });
    </script>

</head>

<body>
<div>
    <label for="date1">Date:</label>
    <input type="text" id="date1" name="date1" value="01/01/2014"/>
    <label for="date2">to</label>
    <input type="text" id="date2" name="date2" value=""/>
</div>
<svg style='height:600px'></svg>
<script type="text/javascript">


    d3.json("http://localhost:2503/webservice.php", function(data) {

        nv.addGraph(function() {
            var chart = nv.models.multiBarChart()
                    .stacked(true)
                    .margin({right: 100})
                    .x(function(d) { return d[0] })   //We can modify the data accessor functions...
                    .y(function(d) { return d[1]/1.0 })   //...in case your data is formatted differently.

            //Format x-axis labels with custom function.
            chart.xAxis
                    .showMaxMin(false)
                    .tickFormat(function(d) { return d3.time.format('%b %d')(new Date(d*1000)) });

            chart.yAxis
                    .showMaxMin(true)
                    .ticks(0)
                    .tickFormat(d3.format(',.f'));

            d3.select('svg')
                    .datum(data)
                    .transition().duration(500).call(chart);
            nv.utils.windowResize(chart.update);


            return chart;
        });
    });
</script>
</body>

</html>